(()=>{"use strict";var M={};function C(){const t=document.querySelector(".date");let e=new Date;t.textContent=new Intl.DateTimeFormat(["en-US","en-UK"],{weekday:"long",month:"long",day:"numeric"}).format(e)}function S(){let t=new Date;const e=document.querySelector(".greeting");let c=["Good night","Good morning","Good afternoon","Good evening"];e.textContent=`${c[Math.floor(t.getHours()/6)]},`}function v(){const t=document.querySelector(".time");let e=new Date;t.textContent=new Intl.DateTimeFormat(["ru-RU","en-US","en-UK"],{hour:"numeric",minute:"numeric",second:"numeric"}).format(e),C(),S(),setTimeout(v,1e3)}function b(){const t=document.querySelector(".name");t.setAttribute("placeholder","[Enter name]"),t.value=localStorage.getItem("name"),t.oninput=()=>localStorage.setItem("name",t.value)}function E(){let t=String(Math.floor(1+Math.random()*19)).padStart(2,"0");const e=document.querySelector("body");let c=new Date,d=["night","morning","afternoon","evening"],s=Math.floor(c.getHours()/6);function l(){const m=new Image;m.src=`https://raw.githubusercontent.com/intelligentRaji/stage1-tasks/assets/images/${d[s]}/${t}.jpg`,m.onload=()=>{e.style.backgroundImage=`url('https://raw.githubusercontent.com/intelligentRaji/stage1-tasks/assets/images/${d[s]}/${t}.jpg')`}}l();const o=document.querySelector(".slide-next"),n=document.querySelector(".slide-prev");function u(){t==20?t="01":t=String(+t+1).padStart(2,"0"),l()}function r(){t==1?t="20":t=String(+t-1).padStart(2,"0"),l()}o.addEventListener("click",u),n.addEventListener("click",r)}async function q(){const t=document.querySelector(".weather-icon"),e=document.querySelector(".description-container"),c=document.querySelector(".wind"),d=document.querySelector(".humidity"),s=document.querySelector(".city"),l=document.querySelector(".weather-error");localStorage.getItem("city")!==null?s.value=localStorage.getItem("city"):s.value="Minsk";let o=await r();function n(){e.firstElementChild.textContent="",e.lastElementChild.textContent="",c.textContent="",d.textContent=""}function u(){try{t.classList.add(`owf-${o.weather[0].id}`),e.firstElementChild.textContent=`${Math.round(o.main.temp)}\xB0C`,e.lastElementChild.textContent=`${o.weather[0].description}`,c.textContent=`Wind speed: ${Math.round(o.wind.speed)} m/s`,d.textContent=`Humidity: ${o.main.humidity}%`,l.textContent=""}catch{n(),l.textContent=`ERROR: city not found for ${s.value}!`}}m();async function r(){try{let g=`https://api.openweathermap.org/data/2.5/weather?q=${s.value}&lang=en&appid=824cddaac888e6d118ebadaa2e0e5598&units=metric`,a=await(await fetch(g)).json();return l.textContent="",a}catch{n(),l.textContent="ERROR: weather didn't load"}}function m(){r(),u()}s.addEventListener("change",async function(){t.className="weather-icon owf",localStorage.setItem("city",s.value),console.log(s.value),o=await r(),u()})}async function L(){const t=document.querySelector(".quote"),e=document.querySelector(".author"),c=document.querySelector(".change-quote");async function d(){let o=await(await fetch("quotes.json")).json(),n=Math.floor(0+Math.random()*o.length);t.textContent=o[n].text,e.textContent=o[n].author}d(),c.addEventListener("click",d)}async function $(){const t=new Audio,e=await k(),c=document.querySelector(".play"),d=document.querySelector(".play-prev"),s=document.querySelector(".play-next"),l=document.querySelector(".play-list"),o=[],n=document.createElement("input"),u=document.createElement("div"),r=document.createElement("p"),m=document.createElement("p"),g=document.createElement("p"),w=document.createElement("div");u.classList.add("play-settings"),l.before(u),m.classList.add("play-time"),m.textContent="0:00",u.append(m),n.classList.add("play-bar"),n.type="range",n.min="0",n.max="100",n.value="0",n.step="1",u.append(n),r.classList.add("play-time"),r.textContent="0:00",u.append(r),g.classList.add("play-trackname"),u.before(g),w.classList.add("play-buttons"),l.before(w);for(let i=0;i<e.length;i++){const p=document.createElement("li");p.classList.add("play-item"),p.textContent=e[i].title,o.push(p),l.append(p)}let a=0;t.volume=.05,g.textContent=e[a].title;async function k(){return await(await fetch("./music.json")).json()}function y(){t.src=e[a].src,t.currentTime=0}y();function f(){o.forEach(i=>{o.indexOf(i)===a?i.classList.add("active"):i.classList.remove("active")})}function h(){c.classList.add("pause"),t.play(),g.textContent=`${e[a].title}`}function I(){c.classList.remove("pause"),t.pause()}function x(){a===e.length-1?a=0:a+=1,y(),h(),f()}function j(){t.addEventListener("timeupdate",()=>{n.value=t.currentTime*100/t.duration,n.style.background=`-webkit-linear-gradient(left, rgba(255,255,255,1) 0%, rgba(255,255,255,1) ${n.value}%,rgba(255,255,255,0.4) ${n.value}%,rgba(255,255,255,0.4) 100%)`;let i=parseInt(t.currentTime/60),p=String(parseInt(t.currentTime-i*60)).padStart(2,"0");m.textContent=`${i}:${p}`,console.log(t.duration)})}j(),n.addEventListener("input",()=>{t.pause(),r.textContent=`${e[a].duration}`,n.style.background=`-webkit-linear-gradient(left, rgba(255,255,255,1) 0%, rgba(255,255,255,1) ${n.value}%,rgba(255,255,255,0.4) ${n.value}%,rgba(255,255,255,0.4) 100%)`,t.currentTime=t.duration/100*n.value,c.classList.remove("pause"),n.addEventListener("change",()=>{h()})}),c.addEventListener("click",()=>{c.classList.contains("pause")?I():(r.textContent=`${e[a].duration}`,h(),f())}),t.addEventListener("ended",()=>{x(),r.textContent=`${e[a].duration}`}),d.addEventListener("click",()=>{a===0?a=e.length-1:a-=1,r.textContent=`${e[a].duration}`,y(),h(),f()}),s.addEventListener("click",()=>{x(),r.textContent=`${e[a].duration}`}),o.forEach(i=>{i.addEventListener("click",()=>{a=o.indexOf(i),r.textContent=`${e[a].duration}`,y(),h(),f()})})}v(),b(),E(),q(),L(),$()})();

//# sourceMappingURL=main.js.map