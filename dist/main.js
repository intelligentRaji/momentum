(()=>{"use strict";var M={};function C(){const e=document.querySelector(".date");let n=new Date;e.textContent=new Intl.DateTimeFormat(["en-US","en-UK"],{weekday:"long",month:"long",day:"numeric"}).format(n)}function b(){let e=new Date;const n=document.querySelector(".greeting");let o=["Good night","Good morning","Good afternoon","Good evening"];n.textContent=`${o[Math.floor(e.getHours()/6)]},`}function S(){const e=document.querySelector(".time");let n=new Date;e.textContent=new Intl.DateTimeFormat(["ru-RU","en-US","en-UK"],{hour:"numeric",minute:"numeric",second:"numeric"}).format(n),C(),b(),setTimeout(S,1e3)}function E(){const e=document.querySelector(".name");e.setAttribute("placeholder","[Enter name]"),e.value=localStorage.getItem("name"),e.oninput=()=>localStorage.setItem("name",e.value)}function q(){let e=String(Math.floor(1+Math.random()*19)).padStart(2,"0");const n=document.querySelector("body");let o=new Date,u=["night","morning","afternoon","evening"],i=Math.floor(o.getHours()/6);function s(){const m=new Image;m.src=`https://raw.githubusercontent.com/intelligentRaji/stage1-tasks/assets/images/${u[i]}/${e}.jpg`,m.onload=()=>{n.style.backgroundImage=`url('https://raw.githubusercontent.com/intelligentRaji/stage1-tasks/assets/images/${u[i]}/${e}.jpg')`}}s();const a=document.querySelector(".slide-next"),t=document.querySelector(".slide-prev");function l(){e==20?e="01":e=String(+e+1).padStart(2,"0"),s()}function d(){e==1?e="20":e=String(+e-1).padStart(2,"0"),s()}a.addEventListener("click",l),t.addEventListener("click",d)}async function L(){const e=document.querySelector(".weather-icon"),n=document.querySelector(".description-container"),o=document.querySelector(".wind"),u=document.querySelector(".humidity"),i=document.querySelector(".city"),s=document.querySelector(".weather-error");localStorage.getItem("city")!==null?i.value=localStorage.getItem("city"):i.value="Minsk";let a=await d();function t(){n.firstElementChild.textContent="",n.lastElementChild.textContent="",o.textContent="",u.textContent=""}function l(){try{e.classList.add(`owf-${a.weather[0].id}`),n.firstElementChild.textContent=`${Math.round(a.main.temp)}\xB0C`,n.lastElementChild.textContent=`${a.weather[0].description}`,o.textContent=`Wind speed: ${Math.round(a.wind.speed)} m/s`,u.textContent=`Humidity: ${a.main.humidity}%`,s.textContent=""}catch{t(),s.textContent=`ERROR: city not found for ${i.value}!`}}m();async function d(){try{let g=`https://api.openweathermap.org/data/2.5/weather?q=${i.value}&lang=en&appid=824cddaac888e6d118ebadaa2e0e5598&units=metric`,r=await(await fetch(g)).json();return s.textContent="",r}catch{t(),s.textContent="ERROR: weather didn't load"}}function m(){d(),l()}i.addEventListener("change",async function(){e.className="weather-icon owf",localStorage.setItem("city",i.value),console.log(i.value),a=await d(),l()})}async function k(){const e=document.querySelector(".quote"),n=document.querySelector(".author"),o=document.querySelector(".change-quote");async function u(){let a=await(await fetch("quotes.json")).json(),t=Math.floor(0+Math.random()*a.length);e.textContent=a[t].text,n.textContent=a[t].author}u(),o.addEventListener("click",u)}async function $(){const e=new Audio,n=await I(),o=document.querySelector(".play"),u=document.querySelector(".play-prev"),i=document.querySelector(".play-next"),s=document.querySelector(".play-list"),a=[],t=document.createElement("input"),l=document.createElement("div"),d=document.createElement("p"),m=document.createElement("p"),g=document.createElement("p"),v=document.createElement("div");l.classList.add("play-settings"),s.before(l),m.classList.add("play-time"),m.textContent="0:00",l.append(m),t.classList.add("play-bar"),t.type="range",t.min="0",t.max="100",t.value="0",t.step="1",l.append(t),d.classList.add("play-time"),d.textContent="0:00",l.append(d),g.classList.add("play-trackname"),l.before(g),v.classList.add("play-buttons"),s.before(v);for(let c=0;c<n.length;c++){const p=document.createElement("li");p.classList.add("play-item"),p.textContent=n[c].title,a.push(p),s.append(p)}let r=0;e.volume=.05,g.textContent=n[r].title;async function I(){return await(await fetch("./music.json")).json()}function f(){e.src=n[r].src,e.currentTime=0}f();function w(){a.forEach(c=>{a.indexOf(c)===r?c.classList.add("active"):c.classList.remove("active")})}function y(){o.classList.add("pause"),e.play(),g.textContent=`${n[r].title}`}function j(){o.classList.remove("pause"),e.pause()}function x(){r===n.length-1?r=0:r+=1,f(),y(),w()}function h(){d.textContent=`${n[r].duration}`,e.addEventListener("timeupdate",()=>{t.value=e.currentTime*100/e.duration,t.style.background=`-webkit-linear-gradient(left, rgba(255,255,255,1) 0%, rgba(255,255,255,1) ${t.value}%,rgba(255,255,255,0.4) ${t.value}%,rgba(255,255,255,0.4) 100%)`;let c=parseInt(e.currentTime/60),p=String(parseInt(e.currentTime-c*60)).padStart(2,"0");m.textContent=`${c}:${p}`,console.log(e.duration)})}t.addEventListener("input",()=>{e.pause(),t.style.background=`-webkit-linear-gradient(left, rgba(255,255,255,1) 0%, rgba(255,255,255,1) ${t.value}%,rgba(255,255,255,0.4) ${t.value}%,rgba(255,255,255,0.4) 100%)`,e.currentTime=e.duration/100*t.value,o.classList.remove("pause"),t.addEventListener("change",()=>{y(),h()})}),o.addEventListener("click",()=>{o.classList.contains("pause")?j():(y(),w(),h())}),e.addEventListener("ended",()=>{x(),h()}),u.addEventListener("click",()=>{r===0?r=n.length-1:r-=1,f(),y(),w(),h()}),i.addEventListener("click",()=>{x(),h()}),a.forEach(c=>{c.addEventListener("click",()=>{r=a.indexOf(c),f(),y(),w(),h()})})}S(),E(),q(),L(),k(),$()})();

//# sourceMappingURL=main.js.map